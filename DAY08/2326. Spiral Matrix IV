
class Solution {
    public int[][] spiralMatrix(int m, int n, ListNode head) {
        int[][] matrix = new int[m][n];
        for(int i=0; i<m; i++){
            for(int j=0; j<n; j++){
                matrix[i][j]=-1;
            }
        }
        int firstRow=0, lastRow=m-1, firstCol=0, lastCol=n-1;
        ListNode curr= head;

        while(firstRow<=lastRow && firstCol<=lastCol && curr!=null){
        for(int i=firstCol; i<=lastCol && curr != null; i++){
            matrix[firstRow][i]= curr.val;
            curr= curr.next;
        }
            firstRow++;

         for(int j=firstRow; j<=lastRow && curr != null; j++){
            matrix[j][lastCol]= curr.val;
            curr= curr.next;
         }
            lastCol--;

         for(int j=lastCol; j>=firstCol && curr != null; j--){
            matrix[lastRow][j]= curr.val;
            curr= curr.next;
         }
            lastRow--;
            
           for(int j=lastRow; j>=firstRow && curr != null; j--){
            matrix[j][firstCol]= curr.val;
            curr= curr.next;
           }
            firstCol++;

        
        }
        return matrix;
    }
}
